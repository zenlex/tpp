<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Turtle Sketch</title>
</head>

<body>
  <form id="prog-form">
    <textarea cols=40 rows=20 id="user-prog" name="prog"></textarea>
    <button type="submit">Run Program</button>
    <button type="button" id="clear-btn">Clear Canvas</button>
  </form>
  <canvas id="turtle-canvas" width=400 height=400></canvas>
</body>
<script type='module'>
  import Turtle from './turtle.js'

  const canvas = document.getElementById('turtle-canvas')

  const turtle = new Turtle(canvas)
  function runTurtle(e) {
    e.preventDefault()
    const prog = e.target.prog.value
    turtle.run(prog)
  }

  document.querySelector('#prog-form').onsubmit = runTurtle
  document.querySelector('#clear-btn').onclick = turtle.clearCanvas

</script>

</html>